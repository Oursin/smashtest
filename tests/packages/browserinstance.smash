- BrowserInstance

    - Script injection

        - execScript()

        - executeAsyncScript()

    - Elements
        - '$()'
            - When $() is called

                - with a text EF
                - with an ElementFinder object
                - with a WebElement

                    - only the first matching element is returned

        - '$$()'
            - When $$() is called

                - with a text EF
                - with an ElementFinder object
                - with a WebElement

                    - and the EF is missing a counter
                        - a counter of 1+ is used
                            - and all matching elements are returned

        - 'not$()'
            - When not$() is called

                - with a text EF
                - with an ElementFinder object
                - with a WebElement

                    - and the EF doesn't match anything
                        - no error is thrown

                - with a WebElement
                    - and the EF continues to match after the timeout
                        - an error is thrown

        - props()

            - Setting one prop

                - and setting it to an EF
                - and setting it to a function
                - and setting it to mutiple definitions (including EFs and functions)

                - that's already defined
                    - and isAdd is set to true
                        - Verify that the old definition gets added to

                    - and isAdd is set to false
                        - Verify that the old definition gets overridden

            - Setting multiple props at once

        - propsAdd()
            - Setting a prop with an existing definition
                - Verify that the old definition gets added to

        - propsClear()
            - Clears out multiple props
            - Silently handles props that don't exist

        - str()
            - Escapes quotes in a string

    - Mocks

        - mockTime()

            - When the mock date is set
                - Then that change is visible from 'new Date()'

        - mockHttp()

            * Method is a
                - GET
                - POST
            *
                * Url is
                    - an absolute url

                        - that's on browser's current domain
                        - that's not on browser's current domain

                    - a relative url

                    - a regex
                *
                    * Response is
                        - a string

                        - a js object

                        - an array

                            - Response body is
                                - a string
                                - an object

                        - a function
                    *
                        - When an http request is made from the browser
                            - and that reponse is mocked
                                - Then the mocked response comes back
                            - and that response is not mocked
                                - Then a 404 error comes back

        - mockHttpConfigure()

            - mockHttp() was
                - already called
                    - Calling mockHttpConfigure()
                        - Updates the config
                - not called yet
                    - Calling mockHttpConfigure()
                        - Does nothing

        - mockTimeStop()
            - mockTime() was
                - already called
                    - Calling mockTimeStop()
                        - Restores the current time
                - not called yet
                    - Calling mockTimeStop()
                        - Does nothing

        - mockHttpStop()
            - mockHttp() was
                - already called
                    - Calling mockHttpStop()
                        - and making an http request
                            - Gets a response from the original non-mocked http server
                - not called yet
                    - Calling mockHttpStop()
                        - Does nothing

        - mockStop()
            - Calling mockStop() ..
                - and using 'new Date()'
                    - Gets the current date
                - and making an http request
                    - Gets a response from the original non-mocked http server

        - injectSinon()

            - Sinon already exists in browser
            - Sinon does not already exist in browser

                - Global sinon object is accessible within browser
