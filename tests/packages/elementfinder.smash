- getAll()

    open chrome
    open firefox

        open test page +

            - normal EFs

                - one line

                    - text

                        - matches innerText

                            create html page {
                                await setPageBody(`
                                    <div id="one">foobar</div>
                                    <div id="two">
                                        <div id="three">
                                            foo bar
                                        </div>
                                    </div>
                                    <div id="four">
                                        buzz
                                    </div>
                                `);
                            }

                                finds one element {
                                    let ef = new ElementFinder(`'foo'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(1);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                }

                                finds all elements {
                                    let ef = new ElementFinder(`1+ x 'foo'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(5);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                    expect(await results.matches[1].getTagName()).to.equal('body');
                                    expect(await results.matches[2].getAttribute('id')).to.equal('one');
                                    expect(await results.matches[3].getAttribute('id')).to.equal('two');
                                    expect(await results.matches[4].getAttribute('id')).to.equal('three');
                                }

                        - matches innerText, where the matching text is of a different case and has differing whitespace

                            create html page {
                                await setPageBody(`
                                    <div id="one"> BARFOO  BARFOO </div>
                                    <div id="two">
                                        <div id="three">
                                            FoO   Bar
                                        </div>
                                    </div>
                                    <div id="four">
                                        buzz
                                    </div>
                                `);
                            }

                                finds one element {
                                    let ef = new ElementFinder(`' foo  bar '`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(1);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                }

                                finds all elements {
                                    let ef = new ElementFinder(`1+ x ' foo  bar '`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(5);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                    expect(await results.matches[1].getTagName()).to.equal('body');
                                    expect(await results.matches[2].getAttribute('id')).to.equal('one');
                                    expect(await results.matches[3].getAttribute('id')).to.equal('two');
                                    expect(await results.matches[4].getAttribute('id')).to.equal('three');
                                }

                        - matches value

                            - matches by attribute value

                                create html page {
                                    await setPageBody(`
                                        <input id="one" type="text" value="foobar">
                                        <div id="wrong">buzz</div>
                                    `);
                                }

                                    finds element {
                                        let ef = new ElementFinder(`'foobar'`);
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(1);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('one');
                                    }

                            - matches by js-set value

                                create html page {
                                    await setPageBody(`
                                        <input id="one" type="text">
                                        <div id="wrong">buzz</div>
                                    `);

                                    await browser.executeScript(function() {
                                        document.getElementById("one").value = "foobar";
                                    });
                                }

                                    finds element {
                                        let ef = new ElementFinder(`'foobar'`);
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(1);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('one');
                                    }

                        - matches placeholder

                            create html page {
                                await setPageBody(`
                                    <input id="one" type="text" placeholder="foobar">
                                    <div id="wrong">buzz</div>
                                `);
                            }

                                finds element {
                                    let ef = new ElementFinder(`'foobar'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(1);
                                    expect(await results.matches[0].getAttribute('id')).to.equal('one');
                                }

                        - matches an associated label's innerText

                            create html page {
                                await setPageBody(`
                                    <div id="one">Something</div>
                                    <label for="wrong">buzz label</label>
                                    <label for="one">foobar2</label>
                                    <div id="wrong">buzz</div>
                                `);
                            }

                                finds one element {
                                    let ef = new ElementFinder(`'foobar'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(1);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                }

                                finds all elements {
                                    let ef = new ElementFinder(`1+ x 'foobar'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(4);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                    expect(await results.matches[1].getTagName()).to.equal('body');
                                    expect(await results.matches[2].getAttribute('id')).to.equal('one');
                                    expect(await results.matches[3].getAttribute('for')).to.equal('one');
                                }

                        - matches text that spans multiple elements

                            create html page {
                                await setPageBody(`
                                    <div id="one">
                                        <div id="two">
                                            foo
                                        </div>
                                        <div id="three">
                                            bar
                                        </div>
                                    </div>
                                    <div id="wrong">buzz</div>
                                `);
                            }

                                finds one element {
                                    let ef = new ElementFinder(`'foo bar'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(1);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                }

                                finds all elements {
                                    let ef = new ElementFinder(`1+ x 'foo bar'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(3);
                                    expect(await results.matches[0].getTagName()).to.equal('html');
                                    expect(await results.matches[1].getTagName()).to.equal('body');
                                    expect(await results.matches[2].getAttribute('id')).to.equal('one');
                                }

                        - doesn't find elements

                            create html page {
                                await setPageBody(`
                                    <div id="wrong">buzz</div>
                                `);
                            }

                                doesn't find elements {
                                    let ef = new ElementFinder(`'foobar'`);
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.true;
                                    expect(results.matches).to.have.lengthOf(0);
                                    expect(results.ef.print()).to.equal(`'foobar'  -->  not found (zero matches after \`'foobar'\` applied)`);
                                }

                    - defined prop

                        * create html page {
                            await setPageBody(`
                                <div id="one" class="small">foobar</div>
                                <div id="two" class="big">foobar</div>
                                <div id="three" class="big">foobar</div>
                                <div id="four" class="small">foobar</div>
                            `);
                        }

                            * finds one element {
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.false;
                                expect(results.matches).to.have.lengthOf(1);
                                expect(await results.matches[0].getAttribute('id')).to.equal('two');
                            }

                            * finds all elements {
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.false;
                                expect(results.matches).to.have.lengthOf(2);
                                expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                expect(await results.matches[1].getAttribute('id')).to.equal('three');
                            }

                            * doesn't find elements {
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.true;
                                expect(results.matches).to.have.lengthOf(0);
                                expect(results.ef.print()).to.equal(`tiny  -->  not found (zero matches after \`tiny\` applied)`);
                            }

                        create html page

                            - prop is an EF

                                - one EF

                                    create defined props {
                                        let definedProps = ElementFinder.defaultProps();
                                        definedProps.big = [ new ElementFinder(`selector '.big'`, definedProps) ];
                                        definedProps.tiny = [ new ElementFinder(`selector '.tiny'`, definedProps) ];

                                        g('definedProps', definedProps);
                                    }

                                        try to find one element {
                                            g('ef', new ElementFinder(`big`, definedProps));
                                        }

                                            finds one element

                                        try to find all elements {
                                            g('ef', new ElementFinder(`1+ x big`, definedProps));
                                        }

                                            finds all elements

                                        try to not find any elements {
                                            g('ef', new ElementFinder(`tiny`, definedProps));
                                        }

                                            doesn't find elements

                                - EF referenced by an EF

                                    create defined props {
                                        let definedProps = ElementFinder.defaultProps();
                                        definedProps.big = [ new ElementFinder(`selector '.big'`, definedProps) ];
                                        definedProps.bigger = [ new ElementFinder(`big`, definedProps) ];

                                        g('definedProps', definedProps);
                                    }

                                        try to find all elements {
                                            g('ef', new ElementFinder(`1+ x bigger`, definedProps));
                                        }

                                            finds all elements

                                - EF referenced by an EF referenced by an EF

                                    create defined props {
                                        let definedProps = ElementFinder.defaultProps();
                                        definedProps.big = [ new ElementFinder(`selector '.big'`, definedProps) ];
                                        definedProps.bigger = [ new ElementFinder(`big`, definedProps) ];
                                        definedProps.biggest = [ new ElementFinder(`bigger`, definedProps) ];

                                        g('definedProps', definedProps);
                                    }

                                        try to find all elements {
                                            g('ef', new ElementFinder(`1+ x biggest`, definedProps));
                                        }

                                            finds all elements

                            - prop is a function

                                create defined props {
                                    let definedProps = ElementFinder.defaultProps();
                                    definedProps.big = [ function(elems, input) {
                                        return elems.filter(function(elem) {
                                            return elem.className == 'big';
                                        });
                                    } ]

                                    g('definedProps', definedProps);
                                }

                                    try to find one element {
                                        g('ef', new ElementFinder(`big`, definedProps));
                                    }

                                        finds one element

                                    try to find all elements {
                                        g('ef', new ElementFinder(`1+ x big`, definedProps));
                                    }

                                        finds all elements

                                    try to not find any elements {
                                        g('ef', new ElementFinder(`tiny`, definedProps));
                                    }

                                        doesn't find elements

                            - prop is a function with input

                                create defined props {
                                    let definedProps = ElementFinder.defaultProps();
                                    definedProps['look for it'] = [ function(elems, input) {
                                        return elems.filter(function(elem) {
                                            return elem.className == input;
                                        });
                                    } ]

                                    g('definedProps', definedProps);
                                }

                                    try to find one element {
                                        g('ef', new ElementFinder(`look for it 'big'`, definedProps));
                                    }

                                        finds one element

                                    try to find all elements {
                                        g('ef', new ElementFinder(`1+ x look for it 'big'`, definedProps));
                                    }

                                        finds all elements

                                    try to not find any elements {
                                        g('ef', new ElementFinder(`look for it 'tiny'`, definedProps));
                                    }

                                        doesn't find elements {
                                            let results = await ef.getAll(browser.driver);
                                            results.ef = ElementFinder.parseObj(results.ef);

                                            expect(results.ef.hasErrors()).to.be.true;
                                            expect(results.matches).to.have.lengthOf(0);
                                            expect(results.ef.print()).to.equal(`look for it 'tiny'  -->  not found (zero matches after \`look for it 'tiny'\` applied)`);
                                        }

                            - multiple definitions in one prop

                                create defined props {
                                    let definedProps = ElementFinder.defaultProps();
                                    definedProps.big = [
                                        new ElementFinder(`#three`, definedProps),
                                        new ElementFinder(`#three`, definedProps),
                                        function(elems, input) {
                                            return elems.filter(function(elem) {
                                                return elem.id == 'two';
                                            });
                                        }
                                    ];
                                    definedProps.tiny = [
                                        new ElementFinder(`#tiny`, definedProps),
                                        function(elems, input) {
                                            return elems.filter(function(elem) {
                                                return elem.id == 'tiny';
                                            });
                                        }
                                    ];

                                    g('definedProps', definedProps);
                                }

                                    try to find one element {
                                        g('ef', new ElementFinder(`big`, definedProps));
                                    }

                                        finds one element

                                    try to find all elements {
                                        g('ef', new ElementFinder(`1+ x big`, definedProps));
                                    }

                                        finds all elements

                                    try to not find any elements {
                                        g('ef', new ElementFinder(`tiny`, definedProps));
                                    }

                                        doesn't find elements

                            - handles the 'not' keyword

                                - prop has one definition

                                - prop has multiple definitions

                                    create defined props {
                                        let definedProps = ElementFinder.defaultProps();
                                        definedProps.big = [
                                            new ElementFinder(`#three`, definedProps),
                                            new ElementFinder(`#three`, definedProps),
                                            function(elems, input) {
                                                return elems.filter(function(elem) {
                                                    return elem.id == 'two';
                                                });
                                            }
                                        ];
                                        definedProps.all = [ // matches everything
                                            new ElementFinder(`selector '*'`, definedProps),
                                            function(elems, input) {
                                                return elems;
                                            }
                                        ];

                                        g('definedProps', definedProps);
                                    }

                                        try to find one element {
                                            g('ef', new ElementFinder(`not big`, definedProps));
                                        }

                                            finds one element {
                                                let results = await ef.getAll(browser.driver);
                                                results.ef = ElementFinder.parseObj(results.ef);

                                                expect(results.ef.hasErrors()).to.be.false;
                                                expect(results.matches).to.have.lengthOf(1);
                                                expect(await results.matches[0].getTagName()).to.equal('html');
                                            }

                                        try to find all elements {
                                            g('ef', new ElementFinder(`1+ x not big`, definedProps));
                                        }

                                            finds all elements {
                                                let results = await ef.getAll(browser.driver);
                                                results.ef = ElementFinder.parseObj(results.ef);

                                                expect(results.ef.hasErrors()).to.be.false;
                                                expect(results.matches).to.have.lengthOf(4);
                                                expect(await results.matches[0].getTagName()).to.equal('html');
                                                expect(await results.matches[1].getTagName()).to.equal('body');
                                                expect(await results.matches[2].getAttribute('id')).to.equal('one');
                                                expect(await results.matches[3].getAttribute('id')).to.equal('four');
                                            }

                                        try to not find any elements {
                                            g('ef', new ElementFinder(`not all`, definedProps));
                                        }

                                            doesn't find elements {
                                                let results = await ef.getAll(browser.driver);
                                                results.ef = ElementFinder.parseObj(results.ef);

                                                expect(results.ef.hasErrors()).to.be.true;
                                                expect(results.matches).to.have.lengthOf(0);
                                                expect(results.ef.print()).to.equal(`not all  -->  not found (zero matches after \`not all\` applied)`);
                                            }

                    - selector

                        create html page {
                            await setPageBody(`
                                <div id="one" class="small">foobar</div>
                                <div id="two" class="big">foobar</div>
                                <div id="three" class="big">foobar</div>
                                <div id="four" class="small">foobar</div>
                            `);
                        }

                            finds one element {
                                let ef = new ElementFinder(`div.big`);
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.false;
                                expect(results.matches).to.have.lengthOf(1);
                                expect(await results.matches[0].getAttribute('id')).to.equal('two');
                            }

                            finds all elements {
                                let ef = new ElementFinder(`1+ x div.big`);
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.false;
                                expect(results.matches).to.have.lengthOf(2);
                                expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                expect(await results.matches[1].getAttribute('id')).to.equal('three');
                            }

                            doesn't find elements {
                                let ef = new ElementFinder(`div.tiny`);
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.true;
                                expect(results.matches).to.have.lengthOf(0);
                                expect(results.ef.print()).to.equal(`div.tiny  -->  not found (zero matches after \`div.tiny\` applied)`);
                            }

                    - ord

                        create html page {
                            await setPageBody(`
                                <div id="one" class="small">foobar</div>
                                <div id="two" class="big">foobar</div>
                                <div id="three" class="big">foobar</div>
                                <div id="four" class="small">foobar</div>
                            `);
                        }

                            finds one element {
                                let ef = new ElementFinder(`div, 3rd`);
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.false;
                                expect(results.matches).to.have.lengthOf(1);
                                expect(await results.matches[0].getAttribute('id')).to.equal('three');
                            }

                            doesn't find elements {
                                let ef = new ElementFinder(`div, 5th`);
                                let results = await ef.getAll(browser.driver);
                                results.ef = ElementFinder.parseObj(results.ef);

                                expect(results.ef.hasErrors()).to.be.true;
                                expect(results.matches).to.have.lengthOf(0);
                                expect(results.ef.print()).to.equal(`div, 5th  -->  not found (zero matches after \`5th\` applied)`);
                            }

                    - counter

                        - counter with a min only

                            min == 0 {
                                g('ef', new ElementFinder(`0- x .big`));
                            }

                                0 matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="small">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, no errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(0);
                                    }

                                multiple matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(2);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                    }

                            min > 0 {
                                g('ef', new ElementFinder(`2- x .big`));
                            }

                                0 matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="small">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, has errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`2- x .big  -->  not found (zero matches after \`.big\` applied)`);
                                    }

                                < min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, has errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`2- x .big  -->  only found 1`);
                                    }

                                min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(2);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                    }

                                > min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(3);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                        expect(await results.matches[2].getAttribute('id')).to.equal('four');
                                    }

                        - counter with a min and max

                            min and max == 0 {
                                g('ef', new ElementFinder(`0 x .big`));
                            }

                                0 matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="small">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, no errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(0);
                                    }

                                multiple matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, no errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(0);
                                    }

                            min == 0, max > 0 {
                                g('ef', new ElementFinder(`0-2 x .big`));
                            }

                                0 matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="small">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, no errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(0);
                                    }

                                < max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(1);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                    }

                                max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(2);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                    }

                                > max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(2);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                    }

                            min < max {
                                g('ef', new ElementFinder(`2-4 x .big`));
                            }

                                0 matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="small">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                        <div id="five" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, has errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`2-4 x .big  -->  not found (zero matches after \`.big\` applied)`);
                                    }

                                < min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                        <div id="five" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, has errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`2-4 x .big  -->  only found 1`);
                                    }

                                min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                        <div id="five" class="small">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(2);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                    }

                                min-max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                        <div id="five" class="small">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(3);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                        expect(await results.matches[2].getAttribute('id')).to.equal('four');
                                    }

                                max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="big">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                        <div id="five" class="small">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(4);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('one');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[2].getAttribute('id')).to.equal('three');
                                        expect(await results.matches[3].getAttribute('id')).to.equal('four');
                                    }

                                > max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="big">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                        <div id="five" class="big">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(4);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('one');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[2].getAttribute('id')).to.equal('three');
                                        expect(await results.matches[3].getAttribute('id')).to.equal('four');
                                    }

                            min == max {
                                g('ef', new ElementFinder(`3 x .big`));
                            }

                                0 matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="small">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, has errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`3 x .big  -->  not found (zero matches after \`.big\` applied)`);
                                    }

                                < min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements, has errors {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`3 x .big  -->  only found 2`);
                                    }

                                min-max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(3);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                        expect(await results.matches[2].getAttribute('id')).to.equal('four');
                                    }

                                > max matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="big">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(3);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('one');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[2].getAttribute('id')).to.equal('three');
                                    }

                    - match me

                        normal {
                            g('ef', new ElementFinder(`[.big]`));
                        }

                            0 matching elements exist {
                                await setPageBody(`
                                    <div id="one" class="small">foobar</div>
                                    <div id="two" class="small">foobar</div>
                                    <div id="three" class="small">foobar</div>
                                    <div id="four" class="small">foobar</div>
                                `);
                            }

                                doesn't find elements {
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.true;
                                    expect(results.matches).to.have.lengthOf(0);
                                    expect(results.ef.print()).to.equal(`[.big]  -->  not found (zero matches after \`.big\` applied)`);
                                }

                            1 matching element exists {
                                await setPageBody(`
                                    <div id="one" class="small">foobar</div>
                                    <div id="two" class="big">foobar</div>
                                    <div id="three" class="small">foobar</div>
                                    <div id="four" class="small">foobar</div>
                                `);
                            }

                                finds elements {
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(1);
                                    expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                }

                            multiple matching elements exist {
                                await setPageBody(`
                                    <div id="one" class="small">foobar</div>
                                    <div id="two" class="big">foobar</div>
                                    <div id="three" class="big">foobar</div>
                                    <div id="four" class="small">foobar</div>
                                `);
                            }

                                finds elements {
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.false;
                                    expect(results.matches).to.have.lengthOf(1);
                                    expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                }

                        - counter x match me

                            counter inside match me {
                                g('ef', new ElementFinder(`[2 x .big]`));
                            }

                                0 matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="small">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`[2 x .big]  -->  not found (zero matches after \`.big\` applied)`);
                                    }

                                < min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="small">foobar</div>
                                        <div id="four" class="small">foobar</div>
                                    `);
                                }

                                    doesn't find elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.true;
                                        expect(results.matches).to.have.lengthOf(0);
                                        expect(results.ef.print()).to.equal(`[2 x .big]  -->  only found 1`);
                                    }

                                > min matching elements exist {
                                    await setPageBody(`
                                        <div id="one" class="small">foobar</div>
                                        <div id="two" class="big">foobar</div>
                                        <div id="three" class="big">foobar</div>
                                        <div id="four" class="big">foobar</div>
                                    `);
                                }

                                    finds elements {
                                        let results = await ef.getAll(browser.driver);
                                        results.ef = ElementFinder.parseObj(results.ef);

                                        expect(results.ef.hasErrors()).to.be.false;
                                        expect(results.matches).to.have.lengthOf(2);
                                        expect(await results.matches[0].getAttribute('id')).to.equal('two');
                                        expect(await results.matches[1].getAttribute('id')).to.equal('three');
                                    }

                            counter outside match me {
                                g('ef', new ElementFinder(`2 x [.big]`));
                            }

                                throws error {
                                    await expect(ef.getAll(browser.driver)).to.be.rejectedWith(`'[.big]' is not a valid selector`);
                                }

                        match me element array {
                            g('ef', new ElementFinder(`* [.big]`));
                        }

                            0 matching elements exist {
                                await setPageBody(`
                                    <div id="one" class="small">foobar</div>
                                    <div id="two" class="small">foobar</div>
                                    <div id="three" class="small">foobar</div>
                                    <div id="four" class="small">foobar</div>
                                `);
                            }

                                doesn't find elements, no errors {
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.true;
                                    expect(results.matches).to.have.lengthOf(0);
                                    expect(results.ef.print()).to.equal(`* [.big]  -->  not found (zero matches after \`.big\` applied)`);
                                }

                            multiple matching elements exist, but are not matched by the element array {
                                await setPageBody(`
                                    <div id="one" class="small">foobar</div>
                                    <div id="two" class="big">foobar</div>
                                    <div id="three" class="big">foobar</div>
                                    <div id="four" class="small">foobar</div>
                                `);
                            }

                                errors occur {
                                    let results = await ef.getAll(browser.driver);
                                    results.ef = ElementFinder.parseObj(results.ef);

                                    expect(results.ef.hasErrors()).to.be.true;
                                    expect(results.matches).to.have.lengthOf(0);
                                    expect(results.ef.print()).to.equal(regularize(`
                                        |* [.big]
                                        |    --> missing
                                        |    div#two.big
                                        |
                                        |    --> missing
                                        |    div#three.big
                                        |`));
                                }

                    - multiple props

                        $s finds elements {
                            // text, ords, properties, selectors
                            // nots
                            // some of those props are functions and others are EFs
                        }

                        $s doesn't find elements {

                        }

                        $s chooses the first element when multiple matching elements exist {

                        }

                    - visible prop

                        $s only finds visible elements by default {

                        }

                        $s finds all elements regardless of visibility if 'any visibility' is explicitly listed {

                        }

                    - errors

                        $s includes an error if an element isn't found, and lists the prop after which 0 elements are matched {

                        }

                        $s includes an error if an element isn't found, where there are multiple props that bring the matches down to 0 {

                        }

                        $s includes an error if the number of elements found are less than the counter min {

                        }

                        $s throws an error if an undefined prop is used {
                            // hard to repro - delete the prop dynamically at runtime right before the EF is run
                        }

                - one child

                    - text on child

                        $s finds elements {

                        }

                        $s doesn't find elements {

                        }

                    - defined prop on child

                        $s finds elements {

                        }

                        $s doesn't find elements {

                        }

                    - selector on child

                        $s finds elements {

                        }

                        $s doesn't find elements {

                        }

                    - ord on child

                        $s finds elements {

                        }

                        $s doesn't find elements {

                        }

                    - counter on child

                        $s finds elements {

                        }

                        $s doesn't find elements {

                        }

                    - match me on child

                        $s finds elements {

                        }

                        $s doesn't find elements {

                        }

                - one level of children

                    - generic tests

                        - parent matches once

                            - finds elements

                                $s children always match {

                                }

                                $s children sometimes match {
                                    // parent  --> found, but doesn't contain all the children below
                                    // child that doesn't match  --> not found (zero matches after `prop name` applied)
                                }

                            - doesn't find elements

                                $s children never match {

                                }

                        - parent matches multiple times

                            - finds elements

                                $s children always match {

                                }

                                $s children sometimes match {

                                }

                            - doesn't find elements

                                $s children never match {
                                    // parent  --> N found, but none contain all the children below
                                }

                                $s children are correct but in the wrong order {

                                }

                    - counter

                        - counter on parent

                            - finds elements

                                $s counters allow correct matching {

                                }

                                $s counter of 1+ is used {

                                }

                                $s number of elements are between the counter's min and max {

                                }

                                $s there are more elements than a counter's min, and no max exists {

                                }

                                $s there are more elements than a counter's max {

                                }

                                $s matches the most amount of elements allowed by the counter (greedy matching) {

                                }

                            - doesn't find elements

                                - there are fewer elements than a counter's min

                                    $s there are > 0 elements {
                                        // parent    --> only found N
                                    }

                                    $s there are 0 elements {

                                    }

                        - counter on child

                            - finds elements

                                - counter of '1+'

                                    $s 0 elements exist {

                                    }

                                    $s those elements exist {

                                    }

                                $s number of elements are between the counter's min and max {

                                }

                                $s there are more elements than a counter's min, and no max exists {

                                }

                                $s there are more elements than a counter's max {

                                }

                                $s matches the most amount of elements allowed by the counter (greedy matching) {

                                }

                            - doesn't find elements

                                - fewer elements than a counter's min

                                    $s 0 elements exist {

                                    }

                                    $s those elements exist {

                                    }

                        $s counter on parent and child {

                        }

                    - keywords

                        $s finds elements in a differing order with the 'any order' keyword {

                        }

                        $s parent matches once, children don't match, even with the 'any order' keyword {
                            // includes (in that order) in error
                        }

                        $s parent matches multiple times, children don't match, even with the 'any order' keyword {
                            // includes (in that order) in error
                        }

                        $s finds elements with the 'subset' keyword, even though it doesn't do anything {

                        }

                        $s handles the 'any order' and 'subset' keywords together {

                        }

                    - match me

                        - [match me] on the parent

                            $s matches elements {

                            }

                            $s doesn't match elements {

                            }

                        - [match me] on a child

                            $s matches elements {

                            }

                            $s doesn't match elements {

                            }

                        - [match me] on multiple children

                            $s matches elements {

                            }

                            $s doesn't match elements {

                            }

                        - [match me] on the parent and multiple children

                            $s matches elements {

                            }

                            $s doesn't match elements {

                            }

                        - [counter x child element]

                            $s matches elements {

                            }

                            $s doesn't match elements {

                            }

                - multiple levels of children

                    - generic tests

                        - parent matches, child matches

                            - finds elements

                                $s grandchild always matches {

                                }

                                $s grandchild sometimes matches {
                                    // including a bad match at the end - shouldn't appear as an error
                                }

                            - doesn't find elements

                                $s grandchild never matches {

                                }

                    - counter

                        $s handles multiple levels of counters {

                        }

                    - keywords

                        $s handles multiple levels of subset and any order {

                        }

                    - match me

                        $s []'s on multiple levels {

                        }

                        $s []'s matches multiple elements when its parent matches multiple elements {

                        }

                        $s []'s matches multiple elements when its grandparent matches multiple elements {

                        }

            - element array EFs

                - one line

                    $s empty element array {
                        let ef = new ElementFinder(`* something`);


                    }

                - one child

                    - element array on child

                        $s finds elements {

                        }

                        $s doesn't find elements {

                        }

                - one level of children

                    - element array on child

                        $s accepts a correct matching {

                        }

                        $s rejects an incorrect matching {
                            // child    --> doesn't match <tagname id="" class="">
                        }

                    - element array on parent

                        - accepts a correct matching

                            $s matching of 0 elements {

                            }

                            $s generic correct matching {

                            }

                            $s correct matching, even when the matched element type exists at different depths in the DOM, and with other elements in between {

                            }

                        - rejects an incorrect matching

                            $s too few elements listed {
                                // --> missing
                                // <tagname id="" class="">
                            }

                            $s too many elements listed {
                                // elements at the end   --> not found
                            }

                            $s the elements are correct but in the wrong order {

                            }

                            $s the elements listed don't match {

                            }

                    $s element array on parent and child {

                    }

                    - counter

                        - accepts a correct matching

                            $s counters allow correct matching {

                            }

                            $s counter of 1+ allows correct matching {

                            }

                            $s number of elements are between the counter's min and max {

                            }

                            $s there are more elements than a counter's min, and no max exists {

                            }

                            $s matches the most amount of elements allowed by the counter (greedy matching) {

                            }

                        - rejects an incorrect matching

                            $s there are more elements than a counter's max {

                            }

                            - there are fewer elements than a counter's min

                                $s 0 elements {

                                }

                                $s more than 0 elements {

                                }

                    - keywords

                        - any order

                            - accepts a correct matching

                                $s same order {

                                }

                                $s different order {

                                }

                            $s rejects an incorrect matching {

                            }

                        - subset

                            - accepts a correct matching

                                $s number of elements falls between the counter's min and max {

                                }

                                $s there are more elements than a counter's max {

                                }

                                - there are fewer elements than a counter's min

                                    $s 0 elements {

                                    }

                                    $s more than 0 elements {

                                    }

                            $s rejects an incorrect matching {

                            }

                        - any order and subset together

                            $s accepts a correct matching {

                            }

                            $s rejects an incorrect matching {

                            }

                    - match me

                        $s matches elements with [] on an element array parent {

                        }

                        $s matches elements with [] on an element array child {

                        }

                - multiple levels of children

                    - generic tests

                        $s element array with multiple levels of children {

                        }

                        $s nested element arrays on multiple levels of children {

                        }

                    - match me

                        $s matches elements with [] on an element array grandchild {

                        }

                        $s matches elements with [] on an element array grandchild, where the parent sometimes matches and sometimes doesn't {

                        }

                        $s matches elements with [] on multiple levels of an element array {

                        }

            - other

                $s only searches within the given parent element {

                }

                $s handles finding an iframe {

                }

                $s handles finding an svg {

                }

            - performance

                $s handles very large DOMs {

                }

                $s handles very large EFs {

                }

                $s handles finding a very large number of elements {

                }

* open test page

    inits {
        i('ElementFinder', '../../packages/js/elementfinder.js');
        i('Comparer', '../../packages/js/comparer.js');
        chai.use(i('chai-as-promised'));

        g('setPageBody', async (htmlStr) => {
            await browser.executeScript(function(htmlStr) {
                document.body.innerHTML = htmlStr;
            }, htmlStr);
        });

        g('regularize', (str) => {
            return str.replace(/\n\s*\|/g, '\n').replace(/^\s*\n/, '');
        });

        l(`test page location`, `file:///${dir()}/generic-page.html`);
    }

        navigate to {{test page location}}

- find() $s

    - isNot set to false

        - if multiple elements are found immediately

            - sends back all elements

            - if EF's counter never set

                - sends back the first matched element

        - if an element is found, but later on

            - sends back those elements as soon as they're found

        - if nothing is ever found

            - generic case

            - if timeout is 0

            - if timeout is omitted

            - if element appears after the timeout

                - throws an error

                    - sets error's continue properly

    - isNot set to true

        - if multiple elements are found immediately

            - if those elements disappear before the timeout

                - doesn't throw error

            - if those elements don't disappear before the timeout
            - if those elements disappear after the timeout

                - throws error

                    - sets error's continue properly

        - if nothing is ever found

            - because those elements never exist in the DOM

            - because those elements are never visible

                - doesn't throw error

- defaultProps() $s

    - visible
        - finds elements
        - doesn't find elements

    - not visible
        - finds elements
        - doesn't find elements

    - any visibility
        - finds elements
        - doesn't find elements

    - enabled
        - finds elements
        - doesn't find elements

    - disabled
        - finds elements
        - doesn't find elements

    - checked
        - finds elements
        - doesn't find elements

    - unchecked
        - finds elements
        - doesn't find elements

    - selected
        - finds elements
        - doesn't find elements

    - focused
        - finds elements
        - doesn't find elements

    - element
        - finds elements
        - doesn't find elements

    - clickable
        - finds elements
        - doesn't find elements

    - page title
        - finds elements
        - doesn't find elements

    - page title contains
        - finds elements
        - doesn't find elements

    - page url
        - relative
            - finds elements
            - doesn't find elements

        - absolute
            - finds elements
            - doesn't find elements

    - page url contains
        - finds elements
        - doesn't find elements

    - next to
        - finds the best element
        - finds multiple elements if there's a tie
        - doesn't find elements if the text doesn't exist on the page

    - value
        - finds elements
        - doesn't find elements

    - contains
        - finds elements
        - doesn't find elements

    - contains exact
        - finds elements
        - doesn't find elements

    - innertext
        - finds elements
        - doesn't find elements

    - selector
        - finds elements
        - doesn't find elements

    - xpath
        - finds elements
        - doesn't find elements

    - style
        - finds elements
        - doesn't find elements

    - position
        - finds elements
        - doesn't find elements
